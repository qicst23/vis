(this.webpackJsonpdrug_mlvis=this.webpackJsonpdrug_mlvis||[]).push([[0],{160:function(e,t,a){},235:function(e,t,a){e.exports=a(267)},240:function(e,t,a){},264:function(e,t,a){},265:function(e,t,a){},267:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),o=a.n(i),s=(a(240),a(32)),c=a(33),l=a(27),d=a(35),u=a(34),h=a(10),p=a(270),g=a(88),f=a(79),m=a(24),y=a.n(m),v=a(42),b=a(162),E=a.n(b).a.create({baseURL:"".concat("./","/"),withCredentials:!1,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}}),D=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./txgnn_data/node_types.json",e.next=3,E.get("./txgnn_data/node_types.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./txgnn_data/edge_types.json",e.next=3,E.get("./txgnn_data/edge_types.json");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./api/node_name_dict",e.next=3,E.get("./api/node_name_dict");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(y.a.mark((function e(t,a){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="./api/attention_pair?disease=".concat(t,"&drug=").concat(a),e.next=3,E.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(v.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./api/diseases",e.next=3,E.get("./api/diseases");case 3:return t=e.sent,a=t.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="./api/drug_predictions?disease_id=".concat(t),e.next=3,E.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(y.a.mark((function e(t){var a,n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="./api/disease_predictions?drug_id=".concat(t,"&top_n=30"),e.next=3,E.get(a);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(y.a.mark((function e(t){var a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?"./api/disease_embeddings?drug_id=".concat(t):"./data/disease_tsne.json",e.next=3,E.get(a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"./api/drug_list",e.next=3,E.get("./api/drug_list");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j="Load_Node_Types",N="Load_Edge_Types",I="Add_Attention_Paths",A="Del_Attention_Paths",H="Load_Node_Name_Dict",C="Load_Drug_Options",G="Load_Disease_Options",L="Load_Disease_Predictions",M="Load_Drug_List",R="Set_Loading_Status",z="Change_Edge_THR",W="Change_Drug",U="Change_Disease",V="Change_App_Mode",F="Change_Selected_Drug_Primary",B="Select_Path_Nodes",Y="Toggle_Meta_Path_Hide",Z="Toggle_Disease_Selection",J=function(e,t,a,n){t&&($(e,t,a,n),Q(e,n))},q=function(e,t){return t({type:R,payload:{isDiseaseLoading:!0}}),t({type:F,payload:{selectedDrugPrimary:e}}),t({type:U,payload:{selectedDisease:void 0}}),T(e).then((function(e){var a=e.predictions.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{selected:!1})}));t({type:L,payload:{diseasePredictions:a}})})).then((function(){t({type:R,payload:{isDiseaseLoading:!1}})}))},X=function(e,t){t({type:V,payload:{appMode:e}}),"drug-to-disease"===e&&fetch("http://127.0.0.1:8002/api/drugs").then((function(e){return e.json()})).then((function(e){t({type:M,payload:{drugOptions:e}})}))},K=function(e,t,a,n,r){var i=r||e;n({type:Z,payload:{diseaseId:e}}),n({type:U,payload:{selectedDisease:i}}),n({type:W,payload:{selectedDrug:t}}),$(t,i,a,n,e)},$=function(e,t,a,n,r){var i=r||e;void 0!==e&&void 0!==t&&void 0!==i&&(a?(n({type:R,payload:{isAttentionLoading:!0}}),w(t,e).then((function(e){n({type:I,payload:{attention:e.attention,selectedDrug:i,metaPathGroups:Object(f.a)({},i,ee(e.metapaths))}})})).then((function(){n({type:R,payload:{isAttentionLoading:!1}})}))):n({type:A,payload:{selectedDrug:i}}))},Q=function(e,t){t({type:W,payload:{selectedDrug:e}})},ee=function(e){var t=[],a=[];return e.forEach((function(e){e.hide=!1;var n=e.nodes.map((function(e){return e.nodeType})).join("_"),r=a.indexOf(n);r>-1?t[r].paths.push(e):(a.push(n),t.push({nodeTypes:e.nodes.map((function(e){return e.nodeType})),paths:[e]}))})),t},te=function(e,t){return e.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{selected:t===e.id?!e.selected:e.selected})}))},ae=function(e,t,a,n){var r=e.map((function(e){return e}));return n?t.forEach((function(e){var t=e.paths.length,n=r.find((function(t){return t.nodeTypes.join()===e.nodeTypes.join()}));n?(n.count[a]=t,n.sum+=t):r.push({nodeTypes:e.nodeTypes,count:Object(f.a)({},a,t),sum:t,hide:!1,idx:r.length})})):(r.forEach((function(e){a in e.count&&(e.sum-=e.count[a],delete e.count[a])})),r=r.filter((function(e){return e.sum>0}))),r},ne=function(e,t){return!e.filter((function(e){return e.selected})).map((function(e){return e.id})).includes(t)},re=function(e,t){switch(t.type){case C:return Object(h.a)(Object(h.a)({},e),{},{drugPredictions:t.payload.drugPredictions});case G:return Object(h.a)(Object(h.a)({},e),{},{diseaseOptions:t.payload.diseaseOptions});case j:return Object(h.a)(Object(h.a)({},e),{},{nodeTypes:t.payload.nodeTypes});case N:return Object(h.a)(Object(h.a)({},e),{},{edgeTypes:t.payload.edgeTypes});case U:return Object(h.a)(Object(h.a)({},e),{},{selectedDisease:t.payload.selectedDisease,attention:{},metaPathGroups:{},metaPathSummary:[]});case W:return Object(h.a)(Object(h.a)({},e),{},{drugPredictions:te(e.drugPredictions,t.payload.selectedDrug)});case H:return Object(h.a)(Object(h.a)({},e),{},{nodeNameDict:t.payload.nodeNameDict});case R:return Object(h.a)(Object(h.a)({},e),t.payload);case B:return Object(h.a)(Object(h.a)({},e),{},{selectedPathNodes:t.payload.selectedPathNodes});case z:return Object(h.a)(Object(h.a)({},e),{},{edgeThreshold:t.payload.edgeThreshold});case Y:return Object(h.a)(Object(h.a)({},e),{},{metaPathSummary:t.payload.metaPathSummary});case I:return Object(h.a)(Object(h.a)({},e),{},{attention:Object(h.a)(Object(h.a)({},e.attention),t.payload.attention),metaPathGroups:Object(h.a)(Object(h.a)({},e.metaPathGroups),t.payload.metaPathGroups),metaPathSummary:ae(e.metaPathSummary,t.payload.metaPathGroups[t.payload.selectedDrug],t.payload.selectedDrug,!0)});case A:var a=JSON.parse(JSON.stringify(e.attention)),n=JSON.parse(JSON.stringify(e.metaPathGroups)),r=t.payload.selectedDrug;return delete a["disease:".concat(r)],delete a["drug:".concat(r)],delete n[r],Object(h.a)(Object(h.a)({},e),{},{attention:a,metaPathGroups:n,metaPathSummary:ae(e.metaPathSummary,n[r],r,!1)});case V:return Object(h.a)(Object(h.a)({},e),{},{appMode:t.payload.appMode});case F:return Object(h.a)(Object(h.a)({},e),{},{selectedDrugPrimary:t.payload.selectedDrugPrimary,diseasePredictions:[],attention:{},metaPathGroups:{},metaPathSummary:[]});case L:return Object(h.a)(Object(h.a)({},e),{},{diseasePredictions:t.payload.diseasePredictions});case Z:var i=t.payload.diseaseId,o=e.diseasePredictions.map((function(e){return e.id===i?Object(h.a)(Object(h.a)({},e),{},{selected:!e.selected}):e}));return Object(h.a)(Object(h.a)({},e),{},{diseasePredictions:o});case M:return Object(h.a)(Object(h.a)({},e),{},{drugOptions:t.payload.drugOptions});default:return e}},ie={diseaseOptions:[],drugPredictions:[],nodeTypes:[],edgeTypes:{},metaPathGroups:{},attention:{},selectedDisease:void 0,nodeNameDict:{},isInitializing:!0,isDrugLoading:!1,isAttentionLoading:!1,isDiseaseLoading:!1,edgeThreshold:0,metaPathSummary:[],selectedPathNodes:[],drugOptions:[],diseasePredictions:[],selectedDrugPrimary:void 0,appMode:"disease-to-drug"},oe=Object(n.createContext)({});function se(e){var t=r.a.useReducer(re,ie),a=Object(g.a)(t,2),n=a[0],i=a[1],o=r.a.useCallback(function(e,t){return function(a){return"function"===typeof a?a(e,t):e(a)}}(i,n),[]);return r.a.createElement(oe.Provider,{value:{state:n,dispatch:o}},e.children)}function ce(e){return function(t){return r.a.createElement(oe.Consumer,null,(function(a){return r.a.createElement(e,Object.assign({},t,{globalState:a.state,dispatch:a.dispatch}))}))}}var le=a(44),de=a(15),ue=a(175),he=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:800,r=e,i=document.createElement("canvas").getContext("2d");i.font="".concat(n," ").concat(t,"px Arial");var o=i.measureText(e).width;if(o>a)for(var s=1;s<e.length;s+=1){var c=e.substr(0,s-1).concat("..."),l=e.substr(0,s).concat("..."),d=i.measureText(c).width,u=i.measureText(l).width;if(u>a&&d<a){r=c;break}}return r},pe=function(e,t){var a=document.createElement("canvas").getContext("2d");return a.font="".concat(t,"px Arial"),a.measureText(e).width},ge=r.a.createElement("g",null,r.a.createElement("text",{textAnchor:"middle",x:"24"},"LOADING..."),r.a.createElement("rect",{x:"0",y:"50",width:"14",height:"30",fill:"#1890ff"},r.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0",dur:"0.6s",repeatCount:"indefinite"})),r.a.createElement("rect",{x:"20",y:"50",width:"14",height:"30",fill:"#1890ff"},r.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.2s",dur:"0.6s",repeatCount:"indefinite"})),r.a.createElement("rect",{x:"40",y:"50",width:"14",height:"30",fill:"#1890ff"},r.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"translate",values:"0 0; 0 20; 0 0",begin:"0.4s",dur:"0.6s",repeatCount:"indefinite"}))),fe=["#4e79a7","#edc949","#e15759","#f28e2c","#76b7b2","#59a14f","#af7aa1","#ff9da7","#9c755f","#bab0ab"],me={},ye=function(e){return void 0===me[e]&&(me[e]=fe[Object.keys(me).length]),me[e]},ve=function e(t,a){return t.children.length>0&&(t=Object(h.a)(Object(h.a)({},t),{},{children:t.children.filter((function(e){return e.score>=a})).map((function(t){return e(t,a)}))})),t},be=function(e){return 1/(1+Math.pow(Math.E,-e))},Ee=["mendelian disease","disease of cell nucleous","hip region disease","acute disease","vector borne disease","cancer","sex-linked disease","movement disorder"],De=["15783","7381","15896"],Oe=["DB12530"],ke=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).nodeHeight=20,e.fontSize=14,e.labelLength=150,e.midGap=60,e}return Object(c.a)(a,[{key:"drawNodeAttentionHorizontal",value:function(e,t,a){var n=this,i=this.props.width,o=this.props.globalState,s=o.nodeNameDict,c=o.edgeTypes,l=o.selectedPathNodes,d=ve(e,a),u=de.i(d),h=de.n().nodeSize([this.nodeHeight+2,t])(u),p=de.j().source((function(e){return{x:"drug"===h.data.nodeType?i/2-n.midGap/2-n.labelLength-e.source.y-n.labelLength/2:e.source.y+n.labelLength/2,y:e.source.x}})).target((function(e){return{x:"drug"===h.data.nodeType?i/2-n.midGap/2-n.labelLength-e.target.y+n.labelLength/2:e.target.y-n.labelLength/2,y:e.target.x}})).x((function(e){return e.x})).y((function(e){return e.y})),g=Math.max.apply(Math,Object(le.a)(h.links().map((function(e){return e.target.data.score})))),f=de.k().domain([0,g]).range([1,5]),m=h.links().map((function(e,t){var a=e.target.data.edgeInfo.replace("rev_","");return c[a]&&(a=c[a].edgeInfo||a),r.a.createElement(ue.a,{title:a,key:"".concat(e.source.data.nodeId,"=>").concat(e.target.data.nodeId,"_link").concat(t),destroyTooltipOnHide:!0},r.a.createElement("g",null,r.a.createElement("path",{d:p(e),className:"link ".concat(e.source.data.nodeId,"=>").concat(e.target.data.nodeId),fill:"none",stroke:"gray",strokeWidth:f(e.target.data.score),opacity:l.length>0?.5:1}),r.a.createElement("path",{d:p(e),className:"mask",fill:"none",stroke:"transparent",strokeWidth:"3"})))})),y=h.descendants().map((function(e){return e.x})),v=Math.min.apply(Math,Object(le.a)(y)),b=Math.max.apply(Math,Object(le.a)(y))-v+this.nodeHeight+4,E=h.descendants().map((function(e,t){var a=e.data,o=a.nodeId,c=a.nodeType,d=s[c][o];void 0===d&&(o=o.replace(/_/g,"")+".0",d=s[c][o]);var u=he(d,12,n.labelLength-25-pe("..(0.00)",14)),p=(null===u||void 0===u?void 0:u.includes(".."))?d:"";e.data.source&&(p=p?"".concat(p," (").concat(e.data.source,")"):"".concat(d," (").concat(e.data.source,")"));var g="";"disease"===c&&(g="M 483.55 227.55 H 462 c -50.68 0 -76.07 -61.27 -40.23 -97.11 L 437 115.19 A 28.44 28.44 0 0 0 396.8 75 L 381.56 90.22 c -35.84 35.83 -97.11 10.45 -97.11 -40.23 V 28.44 a 28.45 28.45 0 0 0 -56.9 0 V 50 c 0 50.68 -61.27 76.06 -97.11 40.23 L 115.2 75 A 28.44 28.44 0 0 0 75 115.19 l 15.25 15.25 c 35.84 35.84 10.45 97.11 -40.23 97.11 H 28.45 a 28.45 28.45 0 1 0 0 56.89 H 50 c 50.68 0 76.07 61.28 40.23 97.12 L 75 396.8 A 28.45 28.45 0 0 0 115.2 437 l 15.24 -15.25 c 35.84 -35.84 97.11 -10.45 97.11 40.23 v 21.54 a 28.45 28.45 0 0 0 56.9 0 V 462 c 0 -50.68 61.27 -76.07 97.11 -40.23 L 396.8 437 A 28.45 28.45 0 0 0 437 396.8 l -15.25 -15.24 c -35.84 -35.84 -10.45 -97.12 40.23 -97.12 h 21.54 a 28.45 28.45 0 1 0 0 -56.89 Z M 224 272 a 48 48 0 1 1 48 -48 A 48 48 0 0 1 224 272 Z m 80 56 a 24 24 0 1 1 24 -24 A 24 24 0 0 1 304 328 Z"),"drug"===c&&(g="M 555.3 300.1 L 424.2 112.8 C 401.9 81 366.4 64 330.4 64 c -22.6 0 -45.5 6.7 -65.5 20.7 c -19.7 13.8 -33.7 32.8 -41.5 53.8 C 220.5 79.2 172 32 112 32 C 50.1 32 0 82.1 0 144 v 224 c 0 61.9 50.1 112 112 112 s 112 -50.1 112 -112 V 218.9 c 3.3 8.6 7.3 17.1 12.8 25 L 368 431.2 c 22.2 31.8 57.7 48.8 93.8 48.8 c 22.7 0 45.5 -6.7 65.5 -20.7 c 51.7 -36.2 64.2 -107.5 28 -159.2 Z M 160 256 H 64 V 144 c 0 -26.5 21.5 -48 48 -48 s 48 21.5 48 48 v 112 Z m 194.8 44.9 l -65.6 -93.7 c -7.7 -11 -10.7 -24.4 -8.3 -37.6 c 2.3 -13.2 9.7 -24.8 20.7 -32.5 c 8.5 -6 18.5 -9.1 28.8 -9.1 c 16.5 0 31.9 8 41.3 21.5 l 65.6 93.7 l -82.5 57.7 Z");var f=0===l.length||l.map((function(e){return e.nodeType})).includes(c)&&l.map((function(e){return e.nodeId})).includes(o);return r.a.createElement(ue.a,{title:p,key:"node".concat(t,"_").concat(d),destroyTooltipOnHide:!0,mouseEnterDelay:.3},r.a.createElement("g",{className:"".concat(o," node"),transform:"translate(".concat("drug"===h.data.nodeType?i/2-n.midGap/2-n.labelLength-e.y:e.y,", ").concat(e.x,")"),cursor:"pointer"},r.a.createElement("rect",{width:n.labelLength,height:n.nodeHeight,fill:ye(c),x:-1*n.labelLength/2,y:-n.nodeHeight/2,opacity:f?1:.2}),r.a.createElement("path",{className:"virus_icon",d:g,transform:"translate(".concat(-1*n.labelLength/2+2,", ").concat(-n.nodeHeight/2,") scale(0.04)"),fill:"white"}),r.a.createElement("text",{fill:"white",fontSize:n.fontSize,transform:"translate(".concat(-1*n.labelLength/2+25,", ").concat((n.nodeHeight-n.fontSize)/2,")")},u),0===e.depth&&void 0===e.children&&r.a.createElement("text",{fill:"gray",fontSize:n.fontSize,transform:"translate(".concat("drug"===h.data.nodeType?-n.labelLength/2-10-pe("No Attention Data",n.fontSize):n.labelLength/2+10,", ").concat((n.nodeHeight-n.fontSize)/2,")")},"No Attention Data")))}));return{content:[r.a.createElement("g",{key:"links",className:"links"},m),r.a.createElement("g",{key:"nodes",className:"nodes"},E)],height:b}}},{key:"drawSubgraph",value:function(){var e=this,t=this.props.globalState,a=t.attention,n=t.edgeThreshold,i=this.props.width,o=(i-2*this.labelLength-this.midGap)/4,s=[0];return{content:Object.keys(a).map((function(t,c){var l=e.drawNodeAttentionHorizontal(a[t],o,n),d=l.height,u=l.content;return s.push(d),r.a.createElement("g",{className:t,key:t,transform:"translate(".concat((i+e.midGap)/2*c+e.labelLength/2,", ").concat(d/2+2*e.nodeHeight,")")},u)})),height:Math.max.apply(Math,s)}}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.globalState,i=n.isAttentionLoading,o=n.selectedDisease,s=n.drugPredictions,c=n.diseasePredictions,l=n.appMode,d=("drug-to-disease"===l?c:s).filter((function(e){return e.selected})),u=this.drawSubgraph(),h=u.content,p=u.height;return r.a.createElement("svg",{width:t,height:Math.max(p,a),className:"nodeLink"},d.length>0&&("drug-to-disease"===l||o)?h:r.a.createElement("text",{x:t/2,y:a/2,fill:"gray"},"Please select a disease and a drug first"),i?r.a.createElement("g",null,r.a.createElement("rect",{width:t,height:a,fill:"white",opacity:.5}),r.a.createElement("g",{transform:"translate(".concat(t/2,", ").concat(a/2,")"),textAnchor:"middle"},ge)):r.a.createElement("g",null))}}]),a}(r.a.Component),we=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).padding=10,n.RADIUS=7,n.prevNodes=[],n.prevLinks=[],n.simulation=void 0,n.simulation=de.h().force("charge",de.g().strength(-60)).force("link",de.f().id((function(e){return e.id})).distance(35).strength(.6)).force("collision",de.e().radius(n.RADIUS+2)).force("center",de.d(e.width/2,e.height/2)).alphaDecay(.02).velocityDecay(.3),n}return Object(c.a)(a,[{key:"ticked",value:function(e,t){e.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")})),t.select("line.link").attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),t.select("line.mask").attr("x1",(function(e){return e.source.x})).attr("y1",(function(e){return e.source.y})).attr("x2",(function(e){return e.target.x})).attr("y2",(function(e){return e.target.y})),t.select("text").attr("text-anchor","middle").attr("transform",(function(e){return"translate(".concat((e.target.x+e.source.x)/2,", ").concat((e.source.y+e.target.y)/2,")")}))}},{key:"dragstarted",value:function(e){de.b.active||this.simulation.alpha(.3).restart(),e.fx=e.x,e.fy=e.y}},{key:"dragged",value:function(e){e.fx=de.b.x,e.fy=de.b.y}},{key:"dragended",value:function(e){de.b.active||this.simulation.alpha(0),e.fx=de.b.x,e.fy=de.b.y}},{key:"isTargetNode",value:function(e){var t=this.props.globalState,a=t.drugPredictions,n=t.diseasePredictions,r=t.selectedDisease,i=t.selectedDrugPrimary,o=t.appMode,s=("drug-to-disease"===o?n:a).filter((function(e){return e.selected})).map((function(e){return e.id}));return"drug-to-disease"===o?s.includes(e.nodeId)||i===e.nodeId:s.includes(e.nodeId)||r===e.nodeId}},{key:"isHighlighted",value:function(e){var t=this.props.globalState.selectedPathNodes;return t.map((function(e){return e.nodeType})).includes(e.nodeType)&&t.map((function(e){return e.nodeId})).includes(e.nodeId)}},{key:"getNodeLinks",value:function(){var e=this,t=this.props.globalState,a=t.drugPredictions,n=t.diseasePredictions,r=t.attention,i=t.selectedDisease,o=t.selectedDrugPrimary,s=t.edgeTypes,c=t.appMode,l=this.props,d=l.width,u=l.height,p=("drug-to-disease"===c?n:a).filter((function(e){return e.selected})).map((function(e){return e.id})),g=[],f=[];Object.values(r).forEach((function(t){var a=de.i(t),n=[];a.descendants().forEach((function(t){var a={id:"".concat(t.data.nodeType,":").concat(t.data.nodeId),nodeId:t.data.nodeId,nodeType:t.data.nodeType},r=e.prevNodes.find((function(e){return e.id===a.id}));n.push(Object(h.a)(Object(h.a)({},a),r))})),g=g.concat(n);var r=a.links().map((function(e){var t,a=e.source.data,n=e.target.data,r=n.edgeInfo.replace("rev_","");return r=(null===(t=s[r])||void 0===t?void 0:t.edgeInfo)||r,{source:"".concat(a.nodeType,":").concat(a.nodeId),target:"".concat(n.nodeType,":").concat(n.nodeId),score:n.score,edgeInfo:r}}));f=f.concat(r)}));for(var m=0;m<g.length;m++){var y=g[m],v=p.indexOf(y.nodeId);"drug-to-disease"===c?y.nodeId===o?(y.fy=u/2,y.fx=.2*d):v>-1&&(y.fy=u/(p.length+1)*(v+1),y.fx=.8*d):y.nodeId===i?(y.fy=u/2,y.fx=.2*d):v>-1&&(y.fy=u/(p.length+1)*(v+1),y.fx=.8*d)}return this.prevNodes=g,this.prevLinks=f,{nodes:g,links:f}}},{key:"drawGraph",value:function(){var e=this,t=this.props.globalState.nodeNameDict,a=this.getNodeLinks(),n=a.nodes,r=a.links,i=this.props,o=i.width,s=i.height,c=de.k().range([2,6]).domain(de.c(r.map((function(e){return e.score})))),l=de.l("svg.graph").select("g.links").selectAll("g.link").data(r).join((function(e){return e.append("g").attr("class","link")})).on("mouseover",(function(){de.l(this).select("text.edgeLabel").transition().delay(500).attr("class","edgeLabel")})).on("mouseout",(function(){de.l(this).select("text.edgeLabel").transition().delay(500).attr("class","edgeLabel hidden")}));l.append("line").attr("x1",(function(e){return e.target.x})).attr("y1",(function(e){return e.target.y})).attr("x2",(function(e){return e.source.x})).attr("y2",(function(e){return e.source.y})).attr("class","link").attr("stroke","#aaa").attr("stroke-width",(function(e){return c(e.score)})).attr("id",(function(e){return e.id})),l.append("line").attr("x1",(function(e){return e.target.x})).attr("y1",(function(e){return e.target.y})).attr("x2",(function(e){return e.source.x})).attr("y2",(function(e){return e.source.y})).attr("class","mask").attr("stroke-width",4).attr("stroke","transparent"),l.append("text").attr("class","edgeLabel hidden").attr("transform",(function(e){return"translate(".concat((e.target.x+e.source.x)/2,", ").concat((e.source.y+e.target.y)/2,")")})).text((function(e){return e.edgeInfo}));var d=de.l("svg.graph").select("g.nodes").selectAll("g.nodeGroup").data(n,(function(e){return e.id})).join((function(t){return t.append("g").attr("class","nodeGroup").attr("transform",(function(e){return"translate(".concat(e.x||o/2,", ").concat(e.y||s/2,")")})).attr("cursor","pointer").call(de.a().on("start",e.dragstarted.bind(e)).on("drag",e.dragged.bind(e)).on("end",e.dragended.bind(e)))}),(function(e){return e.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}))}),(function(e){return e.remove()}));d.append("circle").attr("r",this.RADIUS).attr("class","node").attr("id",(function(e){return e.id})).attr("fill",(function(e){return ye(e.nodeType)})).attr("stroke","white"),d.append("text").attr("class","nodeLabel").attr("transform","translate(".concat(-1*this.RADIUS,", ").concat(-2.5*this.RADIUS," )")).attr("font-size","13px").text((function(e){return t[e.nodeType][e.nodeId]})).classed("hidden",!0),d.filter((function(t){return e.isTargetNode(t)||e.isHighlighted(t)})).select("text.nodeLabel").classed("hidden",!1),d.on("click",(function(e){var t=de.l(this).select("text.nodeLabel"),a=t.classed("hidden");t.classed("hidden",!a)})),this.simulation.nodes(n),this.simulation.force("link").links(r),this.simulation.on("tick",(function(){return e.ticked(d,l)})),this.updateVisibility()}},{key:"updateNodeLabel",value:function(){var e=this;de.l("svg.graph").select("g.nodes").selectAll("g.nodeGroup").filter((function(t){return e.isTargetNode(t)||e.isHighlighted(t)})).select("text.nodeLabel").classed("hidden",!1)}},{key:"updateVisibility",value:function(){var e=this.props.globalState,t=e.attention,a=e.edgeThreshold;de.l("svg.graph").selectAll("g.link").style("opacity",(function(e){return e.score>a?1:0}));var n=[];Object.values(t).forEach((function(e){n=n.concat(function e(t){var a,n=[t.nodeId];t.children.length>0&&(n=(a=n).concat.apply(a,Object(le.a)(t.children.map((function(t){return e(t)})))));return n}(ve(e,a)))})),de.l("svg.graph").select("g.nodes").selectAll("g.nodeGroup").select("circle").style("opacity",(function(e){return n.includes(e.nodeId)?1:0}))}},{key:"componentDidMount",value:function(){this.drawGraph()}},{key:"componentDidUpdate",value:function(e){var t=e.globalState,a=t.metaPathGroups,n=t.selectedPathNodes,r=t.edgeThreshold,i=t.attention,o=this.props.globalState,s=o.metaPathGroups,c=o.selectedPathNodes,l=o.edgeThreshold,d=o.attention,u=Object.keys(a).sort().join(","),h=Object.keys(s).sort().join(","),p=Object.keys(i).sort().join(","),g=Object.keys(d).sort().join(",");return u===h&&p===g||(this.drawGraph(),this.simulation.alpha(1).restart()),n.map((function(e){return e.nodeId})).join()!==c.map((function(e){return e.nodeId})).join()&&this.updateNodeLabel(),r!==l&&this.updateVisibility(),!1}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,r=this.props.globalState.isAttentionLoading,i=Object.keys(this.props.globalState.metaPathGroups),o=n.createElement("text",{transform:"translate(".concat(t/2,", ").concat(a/2,")"),fill:"gray",fontSize:20},"Please select a drug first");return n.createElement("svg",{className:"graph",width:t,height:a},n.createElement("g",{className:"links"}),n.createElement("g",{className:"nodes"}),n.createElement("text",{x:0,y:a-25,fill:"gray",fontSize:12},"Drag & Drop to move nodes."),n.createElement("text",{x:0,y:a-10,fill:"gray",fontSize:12},"Click on nodes to show/hide labels."),0===i.length?o:n.createElement(n.Fragment,null),r?n.createElement("g",{className:"loading"},n.createElement("rect",{className:"loading__background",width:t,height:a,fill:"white",opacity:.5}),n.createElement("g",{transform:"translate(".concat(t/2,", ").concat(a/2,")")},ge)):n.createElement(n.Fragment,null))}}]),a}(n.Component),xe=a(47),_e=a(158),Te=a(161),Pe=a(166),Se=a.n(Pe),je=ce(function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).circleRadius=3,n.hoverTimeout=0,n.WAIT=500,n.state={embedding:{},tooltip:{visible:!1,info:"",position:[0,0]}},n.onChangeDrug=n.onChangeDrug.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"loadEmbedding",value:function(){var e=Object(v.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.globalState.selectedDrugPrimary,e.next=3,P(t);case 3:a=e.sent,this.setState({embedding:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadEmbedding()}},{key:"componentDidUpdate",value:function(e){this.props.globalState.selectedDrugPrimary!==e.globalState.selectedDrugPrimary&&this.loadEmbedding()}},{key:"addLasso",value:function(e,t){var a=this,n=this.props.globalState.drugPredictions.filter((function(e){return e.selected})).map((function(e){return e.id}));de.m("g.lasso").remove();var r=de.l("svg.scatter"),i=de.l("rect.lasso"),o=function(){var e,t=[],a=75,n=!0,r=!1,i=!0,o={start:function(){},draw:function(){},end:function(){}};function s(s){var c,l,d,u,h=s.append("g").attr("class","lasso"),p=h.append("path").attr("class","drawn"),g=h.append("path").attr("class","loop_close"),f=h.append("circle").attr("class","origin"),m=Te.a().on("start",(function(){u=[],c="",p.attr("d",null),g.attr("d",null),t.nodes().forEach((function(e){e.__lasso.possible=!1,e.__lasso.selected=!1,e.__lasso.hoverSelect=!1,e.__lasso.loopSelect=!1;var t=e.getBoundingClientRect();e.__lasso.lassoPoint=[Math.round(t.left+t.width/2),Math.round(t.top+t.height/2)]})),i&&t.on("mouseover.lasso",(function(){this.__lasso.hoverSelect=!0}));o.start()})).on("drag",(function(){var e,i;"touchmove"===xe.c.sourceEvent.type?(e=xe.c.sourceEvent.touches[0].clientX,i=xe.c.sourceEvent.touches[0].clientY):(e=xe.c.sourceEvent.clientX,i=xe.c.sourceEvent.clientY);var s=_e.a(this)[0],h=_e.a(this)[1];""===c?(c=c+"M "+s+" "+h,l=[e,i],d=[s,h],f.attr("cx",s).attr("cy",h).attr("r",7).attr("display",null)):c=c+" L "+s+" "+h;u.push([e,i]);var m=Math.sqrt(Math.pow(e-l[0],2)+Math.pow(i-l[1],2)),y="M "+s+" "+h+" L "+d[0]+" "+d[1];p.attr("d",c),g.attr("d",y),(r=m<=a)&&n?g.attr("display",null):g.attr("display","none");t.nodes().forEach((function(e){e.__lasso.loopSelect=!!(r&&n&&e.__lasso.lassoPoint)&&Se()(u,e.__lasso.lassoPoint)<1,e.__lasso.possible=e.__lasso.hoverSelect||e.__lasso.loopSelect})),o.draw()})).on("end",(function(){t.on("mouseover.lasso",null),t.nodes().forEach((function(e){e.__lasso.selected=e.__lasso.possible,e.__lasso.possible=!1})),p.attr("d",null),g.attr("d",null),f.attr("display","none"),o.end()}));e.call(m)}return s.items=function(e){if(!arguments.length)return t;var a=(t=e).nodes();return a.forEach((function(e){e.__lasso={possible:!1,selected:!1}})),s},s.possibleItems=function(){return t.filter((function(){return this.__lasso.possible}))},s.selectedItems=function(){return t.filter((function(){return this.__lasso.selected}))},s.notPossibleItems=function(){return t.filter((function(){return!this.__lasso.possible}))},s.notSelectedItems=function(){return t.filter((function(){return!this.__lasso.selected}))},s.closePathDistance=function(e){return arguments.length?(a=e,s):a},s.closePathSelect=function(e){return arguments.length?(n=!0===e,s):n},s.isPathClosed=function(e){return arguments.length?(r=!0===e,s):r},s.hoverSelect=function(e){return arguments.length?(i=!0===e,s):i},s.on=function(e,t){if(!arguments.length)return o;if(1===arguments.length)return o[e];var a=["start","draw","end"];return a.indexOf(e)>-1&&(o[e]=t),s},s.targetArea=function(t){return arguments.length?(e=t,s):e},s}();o.items(r.selectAll("circle.highlighted")),o.targetArea(i).on("start",(function(){})).on("draw",(function(){})).on("end",(function(){o.selectedItems()._groups[0].forEach((function(e){var t=e.attributes.id.value;n.includes(t)||J(t,a.props.globalState.selectedDisease,!0,a.props.dispatch)}))})),r.call(o)}},{key:"drawScatter",value:function(){var e=this,t=this.props.globalState,a=t.diseasePredictions,n=(t.appMode,this.props),i=n.width,o=n.height,s=this.state.embedding,c=de.c(Object.values(s).map((function(e){return e[0]}))),l=de.c(Object.values(s).map((function(e){return e[1]}))),d=de.k().domain(c).range([this.circleRadius,i-this.circleRadius]),u=de.k().domain(l).range([this.circleRadius,o-this.circleRadius]),h=a.map((function(e){return e.node_id||e.id})),p=a.filter((function(e){return e.selected})).map((function(e){return e.node_id||e.id})),f=function(e){return h.indexOf(e)>-1?h.indexOf(e):h.length};return Object.keys(s).sort((function(e,t){return-f(e)+f(t)})).map((function(t){var a=Object(g.a)(s[t],2),n=a[0],i=a[1],o=h.indexOf(t)>-1,c=p.includes(t);return r.a.createElement("circle",{cx:d(n),cy:u(i),key:t,className:o?"highlighted disease":"disease",id:t,fill:c?"black":o?"#1890ff":"lightGray",opacity:c?1:.7,stroke:"white",r:c?1.5*e.circleRadius:o?1.1*e.circleRadius:e.circleRadius,onDoubleClick:function(){o&&e.onChangeDisease(t)},onClick:function(){return e.showTooltip(t,[d(n),u(i)])}})}))}},{key:"onChangeDisease",value:function(e){var t=this.props.globalState,a=t.appMode,n=t.selectedDrugPrimary,r=t.diseasePredictions;if("drug-to-disease"===a&&n){var i=function(e,t){return!e.filter((function(e){return e.selected})).map((function(e){return e.node_id||e.id})).includes(t)}(r,e);K(e,n,i,this.props.dispatch)}}},{key:"onChangeDrug",value:function(e){if("drug-to-disease"===this.props.globalState.appMode)q(e,this.props.dispatch);else{var t=ne(this.props.globalState.drugPredictions,e);J(e,this.props.globalState.selectedDisease,t,this.props.dispatch)}}},{key:"showTooltip",value:function(e,t){var a=this,n=this.props.globalState.nodeNameDict;this.hoverTimeout=window.setTimeout((function(){var r,i=(null===(r=n.disease)||void 0===r?void 0:r[e])||e;a.setState({tooltip:{visible:!0,info:"disease: ".concat(i),position:t}})}),this.WAIT)}},{key:"hideTooltip",value:function(){window.clearTimeout(this.hoverTimeout),this.setState({tooltip:{visible:!1,info:"",position:[0,0]}})}},{key:"render",value:function(){var e=this.props.globalState,t=e.isDrugLoading,a=e.isInitializing,n=this.props,i=n.width,o=n.height,s=this.state.tooltip;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("svg",{width:i,height:o,className:"scatter"},r.a.createElement("rect",{className:"lasso area",width:i,height:o,opacity:0}),r.a.createElement("g",{className:"scatter"},this.state.embedding?this.drawScatter():r.a.createElement("g",{transform:"translate(".concat(i/2,", ").concat(o/2,")"),textAnchor:"middle"},ge),t&&!a?r.a.createElement("g",{transform:"translate(".concat(i/2,", ").concat(o/2,")"),textAnchor:"middle"},ge):r.a.createElement("g",null))," ",r.a.createElement("text",{x:0,y:o-25,fontSize:12,fill:"gray"},"Click to reveal the disease name."),r.a.createElement("text",{x:0,y:o-10,fontSize:12,fill:"gray"},"Double click to select the disease.")),r.a.createElement("div",{className:"tooltip tooltip-".concat(s.visible?"show":"hide"),style:{left:s.position[0]+this.circleRadius,top:s.position[1]+this.circleRadius}},s.info))}}]),a}(r.a.Component)),Ne=(a(160),a(271)),Ie=ce(function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).TITLE_HEIGHT=36,n.MARGIN=10,n.PADDING=10,n.EDGE_LENGTH=120,n.NODE_WIDTH=130,n.NODE_HEIGHT=25,n.VERTICAL_GAP=2,n.GROUP_GAP=6,n.COUNT_GAP=5,n.RADIUS=n.NODE_HEIGHT/2,n.HEAD_HEIGHT=70,n.ICON_GAP=20,n.offsetY=0,n.state={expand:n.props.globalState.metaPathSummary.map((function(e){return!1})),isModalVisible:!1},n.showModal=n.showModal.bind(Object(l.a)(n)),n.hideModal=n.hideModal.bind(Object(l.a)(n)),n.filterMetaPathGroups=n.filterMetaPathGroups.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"toggleExpand",value:function(e,t){var a=this.state.expand;a[e]=void 0===t?!a[e]:t,this.setState({expand:a})}},{key:"isPathSelected",value:function(e){var t=this.props.globalState.selectedPathNodes;return t.map((function(e){return e.nodeId})).join()===e.map((function(e){return e.nodeId})).join()&&t.map((function(e){return e.nodeType})).join()===e.map((function(e){return e.nodeType})).join()}},{key:"togglePathNodes",value:function(e,t){t?this.props.dispatch({type:B,payload:{selectedPathNodes:[]}}):this.props.dispatch({type:B,payload:{selectedPathNodes:e}})}},{key:"getMetaIconGroup",value:function(e,t){return r.a.createElement("g",{className:"feedback",cursor:"pointer",style:{fill:"#777"},transform:"translate(5, 0)"},r.a.createElement("g",{className:"yes",transform:"translate(".concat(0*this.ICON_GAP,", 0)"),onClick:function(){return e(!t)}},r.a.createElement("rect",{width:this.ICON_GAP,height:this.ICON_GAP,fill:"white"}),r.a.createElement("path",{d:t?"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z":"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",transform:"scale(0.03)"})))}},{key:"getIconGroup",value:function(e){return r.a.createElement("g",{className:"feedback",cursor:"pointer",style:{fill:"#777"}})}},{key:"drawHeader",value:function(){var e=this,t=this.props.globalState,a=t.drugPredictions,n=t.diseasePredictions,i=t.nodeNameDict,o=t.appMode,s="drug-to-disease"===o?n:a,c="drug-to-disease"===o?"disease":"drug";return s.filter((function(e){return e.selected})).map((function(e){return e.name||i[c][e.id]||e.id})).map((function(t,a){return r.a.createElement("text",{key:t,className:t,fill:"gray",cursor:"pointer",transform:"translate(\n            ".concat(a*(2*e.RADIUS+e.COUNT_GAP)+e.RADIUS,", \n            ").concat(e.HEAD_HEIGHT,") \n            rotate(-45)"),onClick:function(){a<s.length&&e.onChangeDrug(s[a].id)}},t)}))}},{key:"getCountWidth",value:function(){var e=this.props.globalState,t=e.drugPredictions,a=e.diseasePredictions;return("drug-to-disease"===e.appMode?a:t).filter((function(e){return e.selected})).length*(2*this.RADIUS+this.COUNT_GAP)+this.COUNT_GAP}},{key:"drawSummary",value:function(){var e=this,t=this.EDGE_LENGTH,a=this.NODE_WIDTH,n=this.NODE_HEIGHT,i=this.VERTICAL_GAP,o=this.props.globalState,s=o.metaPathSummary,c=o.drugPredictions,l=o.diseasePredictions,d=o.appMode,u=o.nodeNameDict,h="drug-to-disease"===d?l:c,p=this.getCountWidth(),g=this.filterMetaPathGroups(),f=Math.max.apply(Math,Object(le.a)(s.map((function(e){return Object.values(e.count)})).flat())),m=de.k().range([this.RADIUS/3,this.RADIUS]).domain([0,f]);this.offsetY=0;var y=Object(le.a)(s).sort((function(e,t){return(e.hide?1:0)-(t.hide?1:0)})).map((function(o){var c=o.nodeTypes.map((function(i,o){var s="translate(".concat((t+a)*o,", ",0,")");return r.a.createElement("g",{key:"node_".concat(o),transform:s},r.a.createElement("rect",{width:a,height:n,fill:"white",strokeWidth:"3",stroke:ye(i),rx:e.NODE_HEIGHT/2}),r.a.createElement("text",{textAnchor:"middle",y:n/2+6,x:a/2,fill:"black"},i))})),l=Object(le.a)(Array(c.length-1)).map((function(e,i){var o="translate(".concat(a+(t+a)*i,", ").concat(+n/2,")");return r.a.createElement("g",{key:"edge_".concat(i),transform:o},r.a.createElement("line",{stroke:"lightgray",strokeWidth:2,x1:0,y1:0,x2:t,y2:0}))})),d=e.offsetY;e.offsetY+=n+i;var f=[],y=0,v=e.state.expand[o.idx],b=void 0,E=0;Object.keys(g).forEach((function(t){var a,s,c=(null===(a=g[t].filter((function(e){return e.nodeTypes.join("")===o.nodeTypes.join("")}))[0])||void 0===a?void 0:a.paths)||[],l=h.filter((function(e){return e.selected})).map((function(e){return e.id})).indexOf(t),d=h.find((function(e){return e.id===t})),p=(null===d||void 0===d?void 0:d.name)||(null===(s=u.disease)||void 0===s?void 0:s[t])||t,m=p.length>25?p.slice(0,22)+"...":p,D=e.drawChildrenPaths(c,l,b),O=D.children,k=D.numOfChildren;b=c[c.length-1];var w=(n+i)*k,x=k>0?r.a.createElement("g",{transform:"translate(0, ".concat(y,")")},r.a.createElement("text",{x:e.PADDING,y:e.NODE_HEIGHT/2+5,fill:"#333",fontSize:11,fontWeight:"bold"},"[",E+1,"] ",m)):null;k>0&&(E++,f.push(r.a.createElement("g",{key:"drugRank: ".concat(l),className:"drugRank_".concat(l),transform:"translate(0, ".concat(y,")")},x,r.a.createElement("g",{transform:"translate(0, ".concat(e.NODE_HEIGHT+5,")")},O))),y+=w+e.NODE_HEIGHT+5,v&&(e.offsetY+=w+e.NODE_HEIGHT+5)),e.offsetY+=e.GROUP_GAP}));return r.a.createElement("g",{key:"prototype_".concat(o.idx),transform:"translate(".concat(0,", ",d,")"),opacity:o.hide?.4:1},r.a.createElement("g",{className:"metaCount"},e.drawMetaCount(o,m)),r.a.createElement("g",{className:"icon"},r.a.createElement("path",{d:v?"M 6.414 9 h 11.172 a 1 1 0 0 1 0.707 1.707 l -5.586 5.586 a 1 1 0 0 1 -1.414 0 l -5.586 -5.586 A 1 1 0 0 1 6.414 9 Z":"M 9 17.879 V 6.707 A 1 1 0 0 1 10.707 6 l 5.586 5.586 a 1 1 0 0 1 0 1.414 l -5.586 5.586 A 1 1 0 0 1 9 17.879 Z",transform:"translate(".concat(p,", 0)"),fill:"gray",onClick:function(){o.hide||e.toggleExpand(o.idx,void 0)},cursor:"pointer"})),r.a.createElement("g",{className:"prototype",transform:"translate(".concat(p+e.ICON_GAP,", 0)")},c,l,r.a.createElement("g",{className:"iconGroup",transform:"translate(".concat(a*c.length+t*l.length,", 0)")},e.getMetaIconGroup((function(t){!function(e,t,a,n){e[t].hide=a,n({type:Y,payload:{metaPathSummary:e}})}(s,o.idx,t,e.props.dispatch),t&&e.toggleExpand(o.idx,!1)}),o.hide))),r.a.createElement("g",{className:"metapaths"},v?f:r.a.createElement("g",null)))})),v=this.drawHeader();return r.a.createElement("g",null,r.a.createElement("g",{className:"header",transform:"translate(".concat(this.PADDING,", ").concat(this.PADDING,")")},v),r.a.createElement("g",{className:"rows",transform:"translate(".concat(0,", ",this.PADDING+this.HEAD_HEIGHT,")")},y))}},{key:"onChangeDrug",value:function(e){var t=this.props.globalState,a=t.appMode,n=t.drugPredictions,r=t.diseasePredictions,i=t.selectedDisease,o=t.selectedDrugPrimary;if("drug-to-disease"===a){var s=ne(r,e);o&&K(e,o,s,this.props.dispatch)}else{var c=ne(n,e);J(e,i,c,this.props.dispatch)}}},{key:"componentDidUpdate",value:function(e){var t=this.props.globalState,a=t.appMode,n=t.drugPredictions,r=t.diseasePredictions,i=t.selectedDisease,o=t.metaPathSummary,s="drug-to-disease"===e.globalState.appMode?e.globalState.diseasePredictions:e.globalState.drugPredictions,c="drug-to-disease"===a?r:n;if(e.globalState.selectedDisease!==i)this.setState({expand:o.map((function(e){return!1}))});else if(s.filter((function(e){return e.selected})).length!==c.filter((function(e){return e.selected})).length){var l=o.map((function(e){return!1}));this.setState({expand:l})}}},{key:"drawMetaCount",value:function(e,t){var a=this,n=this.props.globalState,i=n.drugPredictions,o=n.diseasePredictions,s=n.isAttentionLoading,c=n.metaPathGroups,l=n.edgeThreshold,d=n.appMode,u=(e.count,e.nodeTypes),h=("drug-to-disease"===d?o:i).filter((function(e){return e.selected})).map((function(e,t){var n,i=e.id,o=null===(n=c[i])||void 0===n?void 0:n.find((function(e){return e.nodeTypes.join(",")===u.join(",")})),d=o?o.paths.filter((function(e){return e.edges.every((function(e){return e.score>=l}))})).length:s?"...":0,h=r.a.createElement("text",{textAnchor:"middle",transform:"translate(".concat(a.RADIUS,", ").concat(a.RADIUS/2,")"),fontSize:15,fill:"gray"},d);return r.a.createElement("g",{key:t,className:"count",transform:"translate(".concat(t*(2*a.RADIUS+a.COUNT_GAP),", ").concat(a.NODE_HEIGHT/2,")"),cursor:"pointer",onClick:function(){return a.onChangeDrug(i)}},h)}));return r.a.createElement("g",{className:"metaCount",transform:"translate(".concat(this.PADDING,", 0)")},h)}},{key:"drawChildrenPaths",value:function(e,t,a){var n=this,i=this.props.globalState,o=i.nodeNameDict,s=i.edgeTypes,c=i.edgeThreshold,l=this.getCountWidth(),d=e.filter((function(e){return e.edges.every((function(e){return e.score>=c}))})),u=d.map((function(e,a){var i=e.edges.map((function(e){return e.score})).filter((function(e){return e>0})),c=i.length>0?(i.reduce((function(e,t){return e+t}),0)/i.length).toFixed(2):(a+1).toString(),d=e.nodes.map((function(e,t){var a,i=e.nodeId,s=e.nodeType,c=(null===(a=o[s])||void 0===a?void 0:a[i])||i,l=he(c,14,n.NODE_WIDTH-10)||i||"unknown",d="translate(".concat(40+(n.EDGE_LENGTH+n.NODE_WIDTH)*t,", ",0,")");return r.a.createElement(ue.a,{key:"node_".concat(t),title:(l.includes("."),c+(e.source?" (".concat(e.source,")"):""))},r.a.createElement("g",{transform:d,className:"node_".concat(i),style:{cursor:"pointer"},onClick:function(){return"drug"===s&&window.open("https://go.drugbank.com/drugs/".concat(i),"windowName","popup,right=10,top=10,width=320,height=600")}},r.a.createElement("rect",{width:n.NODE_WIDTH,height:n.NODE_HEIGHT,fill:ye(s)}),r.a.createElement("text",{textAnchor:"middle",y:n.NODE_HEIGHT/2+6,x:n.NODE_WIDTH/2,fill:"white"},l)))})),u=r.a.createElement("g",{key:"weight",transform:"translate(0, ".concat(n.NODE_HEIGHT/2+5,")")},r.a.createElement("text",{textAnchor:"end",x:35,fill:"#666",fontSize:12,fontWeight:"bold"},c)),h=e.edges.map((function(e,t){var a,i="translate(".concat(40+n.NODE_WIDTH+(n.EDGE_LENGTH+n.NODE_WIDTH)*t,", ").concat(+n.NODE_HEIGHT/2,")"),o=e.edgeInfo.replace("rev_","");o=(null===(a=s[o])||void 0===a?void 0:a.edgeInfo)||o;var c=he(o,14,n.EDGE_LENGTH);return r.a.createElement(ue.a,{title:c===o?"":o,destroyTooltipOnHide:!0},r.a.createElement("g",{key:"edge_".concat(t),transform:i,style:{cursor:"pointer"}},r.a.createElement("line",{stroke:"gray",strokeWidth:1+2*e.score,x1:0,y1:n.NODE_HEIGHT/4,x2:n.EDGE_LENGTH,y2:n.NODE_HEIGHT/4}),r.a.createElement("text",{x:n.EDGE_LENGTH/2,y:0,textAnchor:"middle",fill:"gray"},c)))}));return r.a.createElement("g",{key:a,transform:"translate(0, ".concat((n.NODE_HEIGHT+n.VERTICAL_GAP)*(1+a),")")},r.a.createElement("circle",{cx:t*(2*n.RADIUS+n.COUNT_GAP)+n.RADIUS+n.PADDING,cy:n.NODE_HEIGHT/2,fill:"gray",r:n.RADIUS/4}),r.a.createElement("g",{transform:"translate(".concat(l+n.ICON_GAP,", 0)")},u,d,h,r.a.createElement("g",{className:"iconGroup",transform:"translate(".concat(40+n.NODE_WIDTH*d.length+n.EDGE_LENGTH*h.length,", 0)")},n.getIconGroup(e.nodes))))}));return{children:u,numOfChildren:d.length}}},{key:"showModal",value:function(){this.setState({isModalVisible:!0})}},{key:"hideModal",value:function(){this.setState({isModalVisible:!1})}},{key:"filterMetaPathGroups",value:function(){var e=this.props.globalState,t=e.metaPathGroups,a=e.edgeThreshold,n={};return Object.keys(t).forEach((function(e){n[e]=t[e].map((function(e){var t=e.paths.filter((function(e){return e.edges.every((function(e){return e.score>a}))}));return Object(h.a)(Object(h.a)({},e),{},{metaPaths:t})}))})),Object.keys(n).forEach((function(e){n[e]=n[e].filter((function(e){return e.paths.length>0}))})),n}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=this.state,i=n.isModalVisible,o=n.expand,s=this.props.globalState,c=(s.isDrugLoading,s.isAttentionLoading),l=s.metaPathSummary,d=s.selectedDisease,u=s.drugPredictions,h=Math.max(t-2*this.PADDING-2*this.MARGIN,this.getCountWidth()+5*this.ICON_GAP+this.NODE_WIDTH+4*(this.EDGE_LENGTH+this.NODE_WIDTH)),p=Object.values(l).map((function(e,t){return o[t]?e.sum:0})).reduce((function(e,t){return e+t}),0),g=Object.keys(l).length,f=p*(this.NODE_HEIGHT+this.VERTICAL_GAP)+this.PADDING+g*(this.HEAD_HEIGHT+this.GROUP_GAP),m=a-2*this.PADDING-this.TITLE_HEIGHT,y=Math.max(f+this.HEAD_HEIGHT,m),v=r.a.createElement("text",{x:t/2,y:a/2,fill:"gray",textAnchor:"middle",fontSize:20},c?"":"string"==typeof d&&u.filter((function(e){return e.selected})).length>0?"Sorry, we find no meta path with current computational resources.":"Please select a disease and at least one drug"),b=this.drawSummary(),E=0===l.length?v:b;return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:h,height:y},E,c?r.a.createElement("g",{className:"loading"},r.a.createElement("rect",{className:"loading__background",width:h,height:m,fill:"white",opacity:.5}),r.a.createElement("g",{transform:"translate(".concat(h/2,", ").concat(m/2,")")},ge)):r.a.createElement(r.a.Fragment,null)),r.a.createElement(Ne.a,{title:"Edit Explanation",visible:i,onOk:this.hideModal,onCancel:this.hideModal,okText:"Confirm",width:t,zIndex:1999},r.a.createElement("svg",{width:t})))}}]),a}(r.a.Component)),Ae=p.a.TabPane,He=ce(function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).titleHeight=36,n.margin=10,n.padding=10,n.state={activeTab:"metapath"},n}return Object(c.a)(a,[{key:"changeActiveTab",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=t-2*this.margin-2*this.padding,i=a-2*this.padding-this.titleHeight-2*this.margin,o=Object(h.a)(Object(h.a)({},this.props),{},{height:i,width:n});return r.a.createElement(p.a,{size:"small",activeKey:this.state.activeTab,style:{width:t-2*this.margin,height:a-this.margin,margin:this.margin,marginBottom:0,backgroundColor:"white"},tabBarStyle:{height:this.titleHeight,padding:"0px 10px",margin:"0px"},onChange:this.changeActiveTab.bind(this)},r.a.createElement(Ae,{style:{padding:this.padding},key:"metapath",tab:"Meta-Path"},r.a.createElement("div",{className:"nodelink",style:{width:n,height:i,overflowY:"scroll"}},r.a.createElement(Ie,o))),r.a.createElement(Ae,{style:{padding:this.padding},key:"attention",tab:"Node Attention"},r.a.createElement("div",{className:"nodelink",style:{width:n,height:i,overflowY:"scroll"}},r.a.createElement(ke,o))),r.a.createElement(Ae,{style:{padding:this.padding},key:"graph",tab:"Sub-Graph"},r.a.createElement("div",{className:"nodelink",style:{width:n,height:i,overflowY:"scroll"}},r.a.createElement(we,o))),r.a.createElement(Ae,{style:{padding:this.padding},key:"embedding",tab:"Disease Embeddings"},r.a.createElement("div",{className:"nodelink",style:{width:n,height:i,overflowY:"scroll"}},r.a.createElement(je,{width:n,height:i}))))}}]),a}(r.a.Component)),Ce=(a(264),a(275)),Ge=a(273),Le=a(277),Me=a(276),Re=a(278),ze=a(279),We=a(274),Ue=a(272),Ve=a(280),Fe=a(130),Be=Ce.a.Sider,Ye=Ge.a.Option,Ze=ce(function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).padding=10,n.listHeight=450,n.changeEdgeTHR=n.changeEdgeTHR.bind(Object(l.a)(n)),n.changeRevEdgeTHR=n.changeRevEdgeTHR.bind(Object(l.a)(n)),n.onChangeDisease=n.onChangeDisease.bind(Object(l.a)(n)),n.onChangeDrug=n.onChangeDrug.bind(Object(l.a)(n)),n.onChangeAppMode=n.onChangeAppMode.bind(Object(l.a)(n)),n.onChangeDrugPrimary=n.onChangeDrugPrimary.bind(Object(l.a)(n)),n.onChangeDiseaseSecondary=n.onChangeDiseaseSecondary.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"onChangeAppMode",value:function(e){X(e.target.value,this.props.dispatch)}},{key:"onChangeDrugPrimary",value:function(e){q(e,this.props.dispatch)}},{key:"onChangeDiseaseSecondary",value:function(e){var t=this.props.globalState.diseasePredictions.filter((function(e){return e.selected})).map((function(e){return e.id})),a=e.length>t.length,n=a?e[e.length-1]:t.filter((function(t){return!e.includes(t)}))[0];if(this.props.globalState.selectedDrugPrimary&&n){var r=this.props.globalState.selectedDrugPrimary,i=this.props.globalState.diseasePredictions.find((function(e){return e.id===n})),o=(null===i||void 0===i?void 0:i.node_id)||n;K(n,r,a,this.props.dispatch,o)}}},{key:"onChangeDrug",value:function(e){var t=this.props.globalState.drugPredictions.filter((function(e){return e.selected})).map((function(e){return e.id})),a=e.length>t.length,n=a?e[e.length-1]:t.filter((function(t){return!e.includes(t)}))[0];J(n,this.props.globalState.selectedDisease,a,this.props.dispatch)}},{key:"changeEdgeTHR",value:function(e){"number"==typeof e&&this.props.dispatch({type:z,payload:{edgeThreshold:e}})}},{key:"changeRevEdgeTHR",value:function(e){"number"==typeof e&&this.props.dispatch({type:z,payload:{edgeThreshold:Math.round(10-10*e)/10}})}},{key:"onChangeDisease",value:function(e){!function(e,t){t({type:R,payload:{isDrugLoading:!0}}),t({type:U,payload:{selectedDisease:e}}),t({type:W,payload:{selectedDrug:void 0}}),_(e).then((function(e){var a=e.predictions.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{selected:!1})}));t({type:C,payload:{drugPredictions:a}})})).then((function(){t({type:R,payload:{isDrugLoading:!1}})}))}(e,this.props.dispatch)}},{key:"render",value:function(){var e=this.props.siderWidth,t=this.props.globalState,a=t.edgeThreshold,n=t.nodeTypes,i=t.diseaseOptions,o=t.drugOptions,s=t.drugPredictions,c=t.diseasePredictions,l=t.nodeNameDict,d=t.selectedDisease,u=t.selectedDrugPrimary,h=t.appMode||"disease-to-drug",p=s.filter((function(e){return e.selected})).map((function(e){return e.id})),f=c?c.filter((function(e){return e.selected})).map((function(e){return e.id})):[],m=r.a.createElement(ue.a,{title:"Diseases with no known drug indications in the dataset"},r.a.createElement(Ve.a,{style:{color:"#eb2f96"}})),y=r.a.createElement(ue.a,{title:"US FDA-approved drug indication"},r.a.createElement(Fe.a,{style:{color:"#52c41a"}}));return r.a.createElement(Be,{width:e,theme:"light",style:{padding:"".concat(this.padding,"px")}},r.a.createElement("div",{style:{marginBottom:10,textAlign:"center"}},r.a.createElement(Le.a.Group,{value:h,onChange:this.onChangeAppMode},r.a.createElement(Le.a.Button,{value:"disease-to-drug"},"Disease \u2192 Drug"),r.a.createElement(Le.a.Button,{value:"drug-to-disease"},"Drug \u2192 Disease"))),"disease-to-drug"===h?r.a.createElement(r.a.Fragment,null,"Disease:",r.a.createElement(Ge.a,{defaultValue:"15783",style:{width:e-2*this.padding},onChange:this.onChangeDisease,showSearch:!0,optionFilterProp:"label",value:d},i.length>0?i.filter((function(e){return!l.disease||!l.disease[e[0]]||!((t=l.disease[e[0]])&&Ee.includes(t.toLowerCase()));var t})).map((function(t){var a,n=Object(g.a)(t,2),i=n[0],o=n[1],s=l.disease&&l.disease[i]||i,c=10*s.length>.8*e?s.slice(0,40)+"...":s;return r.a.createElement(Ye,{value:i,label:s,key:"diseaseID_".concat(t)},r.a.createElement("span",{title:s}," ",(a=c).charAt(0).toUpperCase()+a.slice(1)," "),!o&&m)})):r.a.createElement(Ye,{value:"loading",label:"loading",key:"loading"},"data is loading..")),r.a.createElement("br",null),"Drug:",0===s.length?r.a.createElement(Me.a,null):r.a.createElement(Ge.a,{mode:"multiple",style:{width:e-2*this.padding},open:!0,showSearch:!0,optionFilterProp:"label",listHeight:this.listHeight,onChange:this.onChangeDrug,defaultValue:Oe,value:p,menuItemSelectedIcon:r.a.createElement(r.a.Fragment,null)},s.map((function(t,a){var n=t.id,i=t.score,o=t.known,s=l.drug&&l.drug[n]||n,c=10*s.length>.5*e?s.slice(0,20)+"...":s;return r.a.createElement(Ye,{value:n,key:"disease_".concat(a),label:s},r.a.createElement("div",null,r.a.createElement("span",null,"[",a+1,"] ",r.a.createElement("span",{title:s},c)," ",o&&y),r.a.createElement("span",{style:{float:"right"}},"score: ",be(i).toFixed(3))))})))):r.a.createElement(r.a.Fragment,null,"Drug:",r.a.createElement(Ge.a,{style:{width:e-2*this.padding},onChange:this.onChangeDrugPrimary,showSearch:!0,optionFilterProp:"label",placeholder:"Click to select a drug",value:u,dropdownStyle:{maxHeight:400,overflow:"auto"},listHeight:350,virtual:!1},o&&o.length>0?Object(le.a)(o).map((function(e){return{id:e,name:l.drug?l.drug[e]:e}})).sort((function(e,t){return(e.name||e.id).localeCompare(t.name||t.id)})).map((function(e,t){var a=e.id,n=e.name||a;return r.a.createElement(Ye,{value:a,label:n,key:"drugID_".concat(a)},r.a.createElement("div",{style:{padding:"4px 0"}},r.a.createElement("span",{style:{fontWeight:500}},"[",t+1,"]")," ",r.a.createElement("span",{title:n},n)))})):r.a.createElement(Ye,{value:"loading",label:"loading",key:"loading",disabled:!0},"Loading drugs... (Please wait)")),r.a.createElement("br",null),"Disease Candidates:",c&&0!==c.length?r.a.createElement(Ge.a,{mode:"multiple",style:{width:e-2*this.padding},open:!0,showSearch:!0,optionFilterProp:"label",listHeight:this.listHeight,onChange:this.onChangeDiseaseSecondary,value:f,menuItemSelectedIcon:r.a.createElement(r.a.Fragment,null)},c.map((function(t,a){var n=t.id,i=t.score,o=t.known,s=t.name||(l.disease?l.disease[n]:n),c=s&&10*s.length>.5*e?s.slice(0,20)+"...":s;return r.a.createElement(Ye,{value:n,key:"drug_".concat(a),label:s},r.a.createElement("div",null,r.a.createElement("span",null,"[",a+1,"] ",r.a.createElement("span",{title:s},c)," ",o&&y),r.a.createElement("span",{style:{float:"right"}},"score: ",be(i).toFixed(3))))}))):this.props.globalState.isDiseaseLoading?r.a.createElement(Me.a,null):r.a.createElement("div",null,"Select a drug to see candidates")),r.a.createElement("div",{className:"dummy",style:{height:this.listHeight+20}}),"Minimum self-explaining edge score:",r.a.createElement(Re.a,{gutter:20},r.a.createElement(ze.a,{span:5},r.a.createElement(We.a,{value:a,onChange:this.changeEdgeTHR,style:{width:"100%"},step:.1,min:0,max:1})),r.a.createElement(ze.a,{span:16},r.a.createElement(Ue.a,{step:.1,value:1-a,min:0,max:1,onChange:this.changeRevEdgeTHR,marks:{0:"1.0",1:"0.0"},reverse:!0,tipFormatter:function(e){return e&&(1-e).toFixed(1)}}))),r.a.createElement("div",{className:"nodeTypes"},"Node Types:",r.a.createElement("br",null),n.map((function(e){return r.a.createElement("div",{key:e,style:{marginLeft:"5px"}},r.a.createElement("span",{style:{background:ye(e),color:"white",padding:"2px"}},e))}))),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(r.a.Component)),Je=a(131),qe=(a(265),Ce.a.Header),Xe=Ce.a.Footer,Ke=Ce.a.Content,$e=ce(function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({isModalVisible:!0})},n.hideModal=function(){n.setState({isModalVisible:!1})},n.state={width:window.innerWidth,height:window.innerHeight,isModalVisible:!1},n.updateSize=n.updateSize.bind(Object(l.a)(n)),n}return Object(c.a)(a,[{key:"updateSize",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",this.updateSize),D().then((function(t){!function(e){me={},e.forEach((function(e,t){t>fe.length-1&&(t%=fe.length-1),me[e]=fe[t]}))}(t),e.props.dispatch({type:j,payload:{nodeTypes:t}})})).then((function(){return O()})).then((function(t){e.props.dispatch({type:N,payload:{edgeTypes:t}})})).then((function(){return k()})).then((function(t){e.props.dispatch({type:H,payload:{nodeNameDict:t}})})).then((function(){return x()})).then((function(t){e.props.dispatch({type:G,payload:{diseaseOptions:t}})})).then((function(){return S()})).then((function(t){var a=t.map((function(e){return e.id}));e.props.dispatch({type:M,payload:{drugOptions:a}})})).then((function(){X("drug-to-disease",e.props.dispatch)})).then((function(){return q("DB12530",e.props.dispatch)})).then((function(){De.length>0&&K(De[0],"DB12530",!0,e.props.dispatch)})).then((function(){e.props.dispatch({type:R,payload:{isInitializing:!1}})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSize)}},{key:"render",value:function(){var e=Math.max(0,window.innerWidth-380),t=Math.max(0,window.innerHeight-64-20),a=this.props.globalState.isInitializing,n=r.a.createElement(qe,{className:"header",style:{height:64}},r.a.createElement("img",{src:"favicon.ico",style:{height:51.2,padding:"2px 10px"},alt:"logo"}),r.a.createElement("b",{style:{fontSize:"30px"}},"Amgen Drugs and candidate Diseases Explorer"),r.a.createElement("span",{style:{float:"right",cursor:"pointer"},onClick:this.showModal},r.a.createElement(Je.a,{style:{height:64,fontSize:"20px"}}),r.a.createElement("span",{style:{paddingLeft:"5px",fontSize:"18px",height:64}},"About")," "));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,null,n,r.a.createElement(Ce.a,null,r.a.createElement(Ze,{siderWidth:380}),r.a.createElement(Ke,{className:"main",style:{height:t}},r.a.createElement(He,{width:e,height:t-20}),r.a.createElement(Xe,{style:{textAlign:"center",color:"gray",height:20,padding:0}},r.a.createElement("span",{style:{color:"gray"}}," ",r.a.createElement("b",{onClick:this.showModal,style:{cursor:"help"}},"DISCLAIMER:"),"THIS WEBSITE DOES NOT PROVIDE MEDICAL ADVICE"," "))))),a&&r.a.createElement("svg",{width:window.innerWidth,height:window.innerHeight,style:{position:"absolute",left:0,top:0}},r.a.createElement("g",{className:"loading"},r.a.createElement("rect",{className:"loading__background",width:window.innerWidth,height:window.innerHeight,fill:"white",opacity:.5}),r.a.createElement("g",{transform:"translate(".concat(window.innerWidth/2,", ").concat(window.innerHeight/2,")")},ge))),r.a.createElement(Ne.a,{title:"About Amgen Drugs and candidate Diseases Explorer",className:"about-modal",visible:this.state.isModalVisible,footer:null,onCancel:this.hideModal,zIndex:1099,width:.5*window.innerWidth},r.a.createElement("h3",null,"About"),r.a.createElement("p",null,"This Drug and Diseases Explorer provides a visual interface to interact with the predictions and explanations of an AI model that identify candidate diseases with limited treatment options and minimal molecular understanding for a given Drug."),r.a.createElement("p",null,"AI model is a graph neural network pre-trained on a comprehensive knowledge graph of 17,080 clinically-recognized diseases and 7,957 therapeutic candidates. The model can process various therapeutic tasks in a unified formulation. Once trained, the model can perform zero-shot inference on new diseases without the need for additional parameters or fine-tuning on ground truth labels."),r.a.createElement("h3",null,"Medical Advice Disclaimer"),r.a.createElement("p",null,"DISCLAIMER: THIS WEBSITE DOES NOT PROVIDE MEDICAL ADVICE",r.a.createElement("br",null),"The information, including but not limited to, text, graphics, images and other material contained on this website are for informational purposes only. No material on this site is intended to be a substitute for professional medical advice, diagnosis or treatment. Always seek the advice of your physician or other qualified health care provider with any questions you may have regarding a medical condition or treatment and before undertaking a new health care regimen, and never disregard professional medical advice or delay in seeking it because of something you have read on this website.")))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(266);o.a.render(r.a.createElement(se,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement($e,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[235,1,2]]]);
//# sourceMappingURL=main.e36eb74c.chunk.js.map